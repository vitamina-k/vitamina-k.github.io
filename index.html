<!doctype html>
<html lang="es">
<head>
  <!-- CABECERA / META -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Vitamina K ‚Äî Publicaci√≥n</title>
  <meta name="description" content="Publicaci√≥n viva con carrusel, stories y encuesta.">
  <meta property="og:type" content="website">

  <style>
    /* ====== VARIABLES Y BASE (ALTO CONTRASTE) ====== */
    :root{
      --fg:#eaf0ff;          /* texto principal (muy claro) */
      --bg:#0a0f1a;          /* fondo */
      --card:#111827ee;      /* tarjetas m√°s claras que el fondo */
      --accent:#7aa2ff;      /* color acento */
      --muted:#c3cae0;       /* texto secundario legible */
      --ok:#22c55e;          /* verde para CTA */
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
    .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}

    /* ====== TARJETA GENERAL ====== */
    .card{
      width:clamp(320px,92vw,860px);
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px;
      padding:22px;
      background:var(--card);
      backdrop-filter:saturate(1.2) blur(12px);
      box-shadow:0 12px 42px rgba(0,0,0,.35);
      margin:0 auto;
    }

    /* TIPOGRAF√çA */
    .brand{display:flex;gap:10px;align-items:center;margin-bottom:6px;font-weight:700;letter-spacing:.2px;color:#c9d4ff}
    .headline{font-size:clamp(22px,5vw,38px);margin:8px 0 6px;color:#fff}
    .kpi{font-size:clamp(26px,6.5vw,52px);font-weight:800;margin:2px 0 8px;color:var(--accent)}
    .sub{margin:0 0 12px;color:var(--muted)}
    .muted{color:var(--muted)}
    .hidden{display:none}

    /* BARRA DE PROGRESO SUPERIOR */
    .bar{position:fixed;top:0;left:0;height:3px;background:var(--accent);transform-origin:0 0;transform:scaleX(0);z-index:10}

    /* CONTROLES */
    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    button,.btn{border:1px solid rgba(255,255,255,.18);background:transparent;padding:10px 14px;border-radius:12px;cursor:pointer;color:inherit;text-decoration:none}
    button:hover,.btn:hover{border-color:rgba(255,255,255,.35)}

    /* ====== CARRUSEL ====== */
    .carousel{position:relative;border-radius:14px;overflow:hidden;user-select:none;margin-bottom:10px}
    .track{display:flex;transition:transform .35s ease-out}
    .slide{min-width:100%;height:220px;position:relative}
    .slide img{width:100%;height:100%;object-fit:cover;display:block}
    .caption{position:absolute;left:12px;bottom:12px;right:12px;background:linear-gradient(to top,#0009,#0000);color:#fff;padding:10px 12px;border-radius:10px;font-weight:600}
    .nav{position:absolute;top:50%;transform:translateY(-50%);display:flex;gap:8px;width:100%;justify-content:space-between;padding:0 6px;pointer-events:none}
    .nav button{pointer-events:auto;background:rgba(0,0,0,.4);color:#fff;border:0;border-radius:10px;padding:8px 10px}
    .dots{display:flex;gap:6px;justify-content:center;margin-top:8px}
    .dot{width:8px;height:8px;border-radius:50%;background:#ffffff33}
    .dot.active{background:var(--accent)}

    /* ====== STORIES ====== */
    .stories{margin-top:12px;border:1px dashed rgba(255,255,255,.18);border-radius:14px;padding:8px}
    .story-frame{position:relative;height:320px;border-radius:12px;overflow:hidden}
    .story-track{display:flex;height:100%;transition:transform .3s ease-out}
    .story{min-width:100%;position:relative;background:#000}
    .story img{width:100%;height:100%;object-fit:cover;opacity:.9}
    .story .label{position:absolute;left:0;top:0;padding:8px 10px;background:rgba(0,0,0,.45);color:#fff;border-bottom-right-radius:10px;font-weight:700}
    .story .text{position:absolute;left:10px;right:10px;bottom:12px;color:#fff;font-weight:700;font-size:clamp(16px,3.5vw,24px);text-shadow:0 2px 12px #000}
    .story-dots{display:flex;gap:6px;justify-content:center;margin-top:8px}
    .story-dot{flex:1;height:4px;background:#ffffff33;border-radius:3px}
    .story-dot.active{background:var(--accent)}

    /* ====== ENCUESTA ====== */
    .poll{margin-top:14px;padding:12px;border:1px solid rgba(255,255,255,.18);border-radius:12px}
    .opt{display:flex;align-items:center;gap:8px;margin:8px 0}
    .barline{flex:1;height:8px;background:#ffffff22;border-radius:6px;overflow:hidden}
    .fill{height:100%;width:0%;background:var(--accent);transition:width .4s ease}
    .opt button[disabled]{opacity:.6;cursor:not-allowed}
    .only-once{font-size:13px}

    /* ====== HERO (TARJETA FINAL) ‚Äî ALTA VISIBILIDAD ====== */
    .card.hero{
      width:clamp(380px,96vw,1000px);
      padding:32px;
      border-radius:22px;
      background:linear-gradient(180deg, rgba(32,45,77,0.96) 0%, rgba(18,26,46,0.96) 100%);
      color:#eaf0ff;
      border:1px solid rgba(255,255,255,0.14);
      box-shadow:0 20px 60px rgba(0,0,0,0.55);
    }
    .hero-grid{display:grid;grid-template-columns:1fr 1fr;gap:24px;align-items:start}
    .hero-title{font-size:clamp(22px,5vw,40px);margin:0 0 8px;font-weight:900;letter-spacing:.2px;color:#fff}
    .hero-copy{margin:0 0 14px;color:#d6dbef}
    .social-row{display:flex;gap:16px;align-items:center}
    .logo-bubble{
      width:96px;height:96px;border-radius:22px;display:grid;place-items:center;
      background:#fff; box-shadow:0 14px 36px #0b5cff22;border:1px solid #0001; transition:transform .15s ease;
    }
    .logo-bubble:hover{transform:translateY(-2px)}
    .logo-bubble svg{width:50px;height:50px}

    /* Bloque compartir */
    .share{
      margin-top:10px;display:flex;flex-wrap:wrap;gap:10px;align-items:center
    }
    .btn.primary{background:var(--ok);color:#07121f;border-color:transparent;font-weight:800;padding:12px 16px;border-radius:14px}
    .btn.outline{border:2px solid var(--accent);padding:12px 16px;border-radius:14px;font-weight:700}
    .share .mini{font-size:12px;color:#c9d4ff;opacity:.9}

    /* Badges */
    .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .chip{font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06)}

    /* FONDO CUANDO SE VE LA HERO */
    body.show-hero{
      background:
        radial-gradient(1200px 700px at 50% -10%, #0b5cff22, transparent 60%),
        radial-gradient(900px 600px at 50% 10%, #8aa9ff22, transparent 60%),
        var(--bg);
    }

    /* M√ìVIL */
    @media (max-width:640px){
      .hero-grid{grid-template-columns:1fr}
      .social-row{justify-content:flex-start}
    }
  </style>
</head>
<body>
  <div class="bar" id="bar"></div>

  <div class="wrap">
    <!-- ========== VISTA ‚ÄúVIVA‚Äù (activa mientras dura) ========== -->
    <article class="card" id="view-live">
      <div class="brand" id="brandEl"></div>
      <h1 class="headline" id="title"></h1>
      <div class="kpi" id="kpi"></div>
      <p class="sub" id="subtitle"></p>

      <!-- Carrusel -->
      <section class="carousel" id="carousel">
        <div class="track" id="track"></div>
        <div class="nav"><button id="prev" aria-label="Anterior">‚Üê</button><button id="next" aria-label="Siguiente">‚Üí</button></div>
        <div class="dots" id="dots"></div>
      </section>

      <!-- Stories -->
      <section class="stories" id="stories">
        <div class="story-frame"><div class="story-track" id="storyTrack"></div></div>
        <div class="story-dots" id="storyDots"></div>
      </section>

      <!-- Encuesta -->
      <section class="poll">
        <h3 id="pollQ"></h3>
        <div class="only-once muted">Voto √∫nico por dispositivo</div>
        <div id="options"></div>
        <div id="totals" class="muted" style="margin-top:8px"></div>
      </section>

      <div class="controls">
        <button id="copy">Copiar para X</button>
        <button id="toggle">Dato ‚Üî Contexto</button>
        <span id="countdown" class="muted"></span>
      </div>
    </article>

    <!-- ========== VISTA ‚ÄúHERO FINAL‚Äù (tras finalizar) ========== -->
    <article class="card hero hidden" id="view-default">
      <div class="hero-grid">
        <!-- Columna izquierda: mensaje + logos -->
        <div>
          <h2 class="hero-title">La pr√≥xima noticia temporal se est√° cocinando‚Ä¶</h2>
          <p class="hero-copy">Mientras tanto, puedes ver m√°s y **seguirme** en Instagram y X.</p>

          <div class="social-row">
            <!-- Instagram -->
            <a class="logo-bubble" id="igLogo" target="_blank" rel="noopener" aria-label="Instagram">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <defs><linearGradient id="ig" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#f58529"/><stop offset="50%" stop-color="#dd2a7b"/><stop offset="100%" stop-color="#8134af"/>
                </linearGradient></defs>
                <rect x="2" y="2" width="20" height="20" rx="5" stroke="url(#ig)" stroke-width="1.5"/>
                <circle cx="12" cy="12" r="4.2" stroke="url(#ig)" stroke-width="1.5"/>
                <circle cx="17.5" cy="6.5" r="1.2" fill="url(#ig)"/>
              </svg>
            </a>

            <!-- X -->
            <a class="logo-bubble" id="xLogo" target="_blank" rel="noopener" aria-label="X">
              <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
                <path d="M3 3l8.6 10.2L3.9 21H7l5.5-6.4L18.8 21H21l-9-10.7L20.5 3H17.4L12.3 8.8 8.2 3H3z" fill="#000"/>
              </svg>
            </a>
          </div>

          <!-- Se√±uelos sociales -->
          <div class="badges">
            <span class="chip">üïí publicaciones fugaces</span>
            <span class="chip">‚ö° sin ruido</span>
            <span class="chip">üìà datos por encima de relatos</span>
          </div>
        </div>

        <!-- Columna derecha: compartir -->
        <div>
          <h3 class="hero-title" style="font-size:clamp(18px,4.2vw,30px);margin-top:0">Comparte esta p√°gina</h3>
          <p class="sub">Si te gusta lo que ves, comp√°rtelo en un toque.</p>

          <div class="share">
            <button class="btn primary" id="share-native">Compartir ahora</button>
            <a class="btn outline" id="share-x"   target="_blank" rel="noopener">Compartir en X</a>
            <a class="btn outline" id="share-wa"  target="_blank" rel="noopener">WhatsApp</a>
            <button class="btn" id="copy-hero">Copiar enlace</button>
            <span class="mini">Funciona mejor desde el m√≥vil üì±</span>
          </div>
        </div>
      </div>
    </article>
  </div>

  <script>
    /* =====================================================
       üß© CONTENIDO: EDITA SOLO AQU√ç
    ===================================================== */
    const CONTENT = {
      // Cabecera de la noticia (vista viva). D√©jalo vac√≠o si ahora quieres probar solo la HERO:
      brand: "VITAMINA K ¬∑ Publicaci√≥n",
      title: "",           // ‚Üê t√≠tulo
      kpi: "",             // ‚Üê vac√≠alo si no lo usas
      subtitle: "",

      // Dato/Contexto (opcional)
      datoHTML: "",
      contextoHTML: "",

      /* HORARIO: para probar la HERO, puedes forzar con ?force=hero=1
         Si no fuerzas, la ‚Äúvista viva‚Äù se muestra todo el d√≠a por defecto */
      mode: "daily",
      dailyWindow: { start: "00:00", end: "23:59" },

      // Carrusel (opcional)
      carousel: [
        // { src:"assets/images/foto1.webp", caption:"Pie 1" },
      ],

      // Stories (opcional)
      stories: [
        // { img:"assets/images/story1.webp", text:"Texto 1" },
      ],

      // Encuesta (opcional)
      pollQuestion: "",
      pollOptions: [],
      pollKey: "vk_poll_v3",

      // Enlaces redes (para logos y botones)
      xUrl:  "https://x.com/vitaminakof",
      igUrl: "https://www.instagram.com/vitaminak.of",

      // Texto para compartir
      shareText: "Nueva publicaci√≥n temporal de Vitamina K ‚Äî m√≠rala aqu√≠:",
    };
    /* =========================
       /üß© FIN CONTENIDO
    ========================= */

    /* ====== MONTAJE DE TEXTOS B√ÅSICOS ====== */
    brandEl.textContent = CONTENT.brand || "";
    title.text
